import{_ as M}from"./8q7ltWUn.js";import{_ as P}from"./C7qF5aok.js";import{r,e as C,f as B,g as N,c as l,a as e,F as g,h as _,P as h,i as n,t as d,b as c,w as b,o as s,d as j,n as R,j as A,_ as E}from"./CdjRxmqw.js";import"./DlAUqK2U.js";const T={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},V={class:"flex justify-center mb-8"},z={class:"bg-white rounded-lg shadow-sm border p-1"},D={key:0},F={key:0,class:"text-center py-12"},L={key:1,class:"text-center py-12"},S={class:"text-gray-500 mb-4"},$={key:2,class:"space-y-8"},K={class:"flex items-center justify-between"},q={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6"},I={class:"text-center text-sm text-gray-500"},U={key:1},W={__name:"movies",setup(Y){const f=[{label:"Popular",path:"/movies/popular"},{label:"Now Playing",path:"/movies/now-playing"},{label:"Upcoming",path:"/movies/upcoming"},{label:"Top Rated",path:"/movies/top-rated"}],u=r([]),m=r(!0),i=r(null),p=r(0),y=C().public.tmdbApiKey,v=async()=>{m.value=!0,i.value=null;try{const o=await $fetch("https://api.themoviedb.org/3/movie/popular",{query:{api_key:y,page:1}});u.value=o.results,p.value=o.total_results}catch(o){console.error("Error fetching movies:",o),i.value="Failed to load movies. Please try again."}finally{m.value=!1}};return B(()=>{N().path==="/movies"&&v()}),(o,t)=>{const x=M,k=P,w=E;return s(),l("div",T,[t[5]||(t[5]=e("div",{class:"text-center mb-8"},[e("h1",{class:"text-4xl font-bold text-gray-900 mb-4"},"Movies"),e("p",{class:"text-lg text-gray-600 max-w-2xl mx-auto"}," Discover amazing movies across different categories. Choose from popular, top-rated, or upcoming releases. ")],-1)),e("div",V,[e("div",z,[(s(),l(g,null,_(f,a=>c(x,{key:a.path,to:a.path,class:R(["px-6 py-3 rounded-md text-sm font-medium transition-colors inline-block",(o._.provides[h]||o.$route).path===a.path?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"])},{default:b(()=>[j(d(a.label),1)]),_:2},1032,["to","class"])),64))])]),(o._.provides[h]||o.$route).path==="/movies"?(s(),l("div",D,[n(m)?(s(),l("div",F,t[0]||(t[0]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Loading movies...",-1)]))):n(i)?(s(),l("div",L,[t[1]||(t[1]=e("svg",{class:"mx-auto h-12 w-12 text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[2]||(t[2]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Error loading movies",-1)),e("p",S,d(n(i)),1),e("button",{onClick:v,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Try Again ")])):(s(),l("div",$,[e("div",K,[t[4]||(t[4]=e("h2",{class:"text-2xl font-bold text-gray-900"},"Popular Movies",-1)),c(x,{to:"/movies/popular",class:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center space-x-1"},{default:b(()=>t[3]||(t[3]=[e("span",null,"View All",-1),e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1,__:[3]})]),e("div",q,[(s(!0),l(g,null,_(n(u).slice(0,18),a=>(s(),A(k,{key:a.id,item:a,type:"movie"},null,8,["item"]))),128))]),e("div",I," Showing "+d(Math.min(18,n(u).length))+" of "+d(n(p))+" movies ",1)]))])):(s(),l("div",U,[c(w)]))])}}};export{W as default};
