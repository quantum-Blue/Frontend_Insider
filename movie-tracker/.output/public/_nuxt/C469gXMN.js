import{_ as z}from"./8q7ltWUn.js";import{g as N,r as _,l as j,u as S,m as x,c as l,q as d,i as o,a as t,t as n,d as B,n as b,F as T,h as P,e as Y,o as r,j as E,w as H}from"./CdjRxmqw.js";import{a as M}from"./B83P4IdC.js";const K={class:"min-h-screen bg-gray-50"},R={key:0,class:"min-h-screen flex items-center justify-center"},U={key:1,class:"min-h-screen flex items-center justify-center"},q={class:"text-center"},Q={class:"mt-1 text-sm text-gray-500"},I={key:2},G={class:"relative bg-gray-900"},J={key:0,class:"absolute inset-0 opacity-20"},O=["src","alt"],W={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16"},X={class:"lg:grid lg:grid-cols-3 lg:gap-8"},Z={class:"lg:col-span-1"},tt={class:"aspect-[3/4] bg-gray-700 rounded-lg overflow-hidden mx-auto max-w-sm"},et=["src","alt"],st={key:1,class:"w-full h-full flex items-center justify-center"},ot={class:"mt-8 lg:mt-0 lg:col-span-2"},at={class:"text-4xl font-bold text-white mb-4"},rt={class:"space-y-4"},lt={key:0,class:"flex items-center space-x-2"},nt={class:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium"},it={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-gray-300"},dt={key:0},ut={class:"mt-1"},ct={key:0},pt={key:1},gt={class:"mt-1"},mt={key:2},ht={class:"mt-1"},vt={key:3},yt={class:"mt-1"},_t={key:1,class:"mt-6"},xt={class:"text-gray-300 leading-relaxed"},bt={key:0},ft={key:1},wt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},kt={class:"mb-6"},$t={class:"flex space-x-8"},Ct={key:0,class:"text-center py-8"},Dt={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6"},jt={class:"aspect-[2/3] bg-gray-200 rounded-lg overflow-hidden mb-3 group-hover:shadow-lg transition-all duration-300"},Bt=["src","alt"],Mt={key:1,class:"w-full h-full bg-gray-300 flex items-center justify-center"},At={class:"font-semibold text-gray-900 text-sm group-hover:text-blue-600 transition-colors mb-1"},Ft={class:"text-xs text-gray-600"},Lt={key:0,class:"text-xs text-gray-500"},Vt={key:2,class:"text-center mt-8"},zt={key:3,class:"text-center py-8"},Et={__name:"[id]",async setup(Nt){let p,m;const A=N(),f=Y(),h=A.params.id,w=_(!1),c=_("all"),v=_(12),{data:s,pending:F,error:k,refresh:L}=([p,m]=j(()=>M(`https://api.themoviedb.org/3/person/${h}`,{params:{api_key:f.public.tmdbApiKey,language:"en-US"},key:`person-${h}`},"$Qs_VrfQv-6")),p=await p,m(),p),{data:u,pending:$}=([p,m]=j(()=>M(`https://api.themoviedb.org/3/person/${h}/combined_credits`,{params:{api_key:f.public.tmdbApiKey,language:"en-US"},key:`person-credits-${h}`},"$eqSsf9yE0h")),p=await p,m(),p);S({title:x(()=>s.value?`${s.value.name} - Movie Tracker`:"Person - Movie Tracker"),meta:[{name:"description",content:x(()=>s.value?`Learn about ${s.value.name}${s.value.known_for_department?`, ${s.value.known_for_department}`:""}. ${s.value.biography?s.value.biography.substring(0,160)+"...":""}`:"Person details and filmography")}]});const y=x(()=>{if(!u.value)return[];let i=[];return c.value==="all"?i=[...u.value.cast||[],...u.value.crew||[]]:c.value==="acting"?i=u.value.cast||[]:c.value==="crew"&&(i=u.value.crew||[]),i.filter(e=>e.poster_path).sort((e,g)=>{const a=new Date(e.release_date||e.first_air_date||"1900-01-01");return new Date(g.release_date||g.first_air_date||"1900-01-01")-a})}),C=i=>i?new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"",D=()=>{if(!s.value?.birthday)return null;const i=s.value.deathday?new Date(s.value.deathday):new Date,e=new Date(s.value.birthday);let g=i.getFullYear()-e.getFullYear();const a=i.getMonth()-e.getMonth();return(a<0||a===0&&i.getDate()<e.getDate())&&g--,g},V=i=>i?new Date(i).getFullYear():"";return(i,e)=>{const g=z;return r(),l("div",K,[o(F)?(r(),l("div",R,e[6]||(e[6]=[t("div",{class:"text-center"},[t("div",{class:"inline-block animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600"}),t("p",{class:"mt-4 text-gray-600"},"Loading person details...")],-1)]))):o(k)?(r(),l("div",U,[t("div",q,[e[7]||(e[7]=t("svg",{class:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e[8]||(e[8]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Error loading person",-1)),t("p",Q,n(o(k).message),1),t("button",{onClick:e[0]||(e[0]=a=>o(L)()),class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Try Again ")])])):o(s)?(r(),l("div",I,[t("div",G,[o(s).profile_path?(r(),l("div",J,[t("img",{src:`https://image.tmdb.org/t/p/w1280${o(s).profile_path}`,alt:o(s).name,class:"w-full h-full object-cover object-top"},null,8,O),e[9]||(e[9]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/80 to-gray-900/40"},null,-1))])):d("",!0),t("div",W,[t("div",X,[t("div",Z,[t("div",tt,[o(s).profile_path?(r(),l("img",{key:0,src:`https://image.tmdb.org/t/p/w500${o(s).profile_path}`,alt:o(s).name,class:"w-full h-full object-cover"},null,8,et)):(r(),l("div",st,e[10]||(e[10]=[t("svg",{class:"w-24 h-24 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})],-1)])))])]),t("div",ot,[t("h1",at,n(o(s).name),1),t("div",rt,[o(s).known_for_department?(r(),l("div",lt,[t("span",nt,n(o(s).known_for_department),1)])):d("",!0),t("div",it,[o(s).birthday?(r(),l("div",dt,[e[11]||(e[11]=t("h3",{class:"text-sm font-medium text-gray-400"},"Born",-1)),t("p",ut,[B(n(C(o(s).birthday))+" ",1),o(s).place_of_birth?(r(),l("span",ct,"("+n(o(s).place_of_birth)+")",1)):d("",!0)])])):d("",!0),o(s).deathday?(r(),l("div",pt,[e[12]||(e[12]=t("h3",{class:"text-sm font-medium text-gray-400"},"Died",-1)),t("p",gt,n(C(o(s).deathday)),1)])):d("",!0),D()?(r(),l("div",mt,[e[13]||(e[13]=t("h3",{class:"text-sm font-medium text-gray-400"},"Age",-1)),t("p",ht,n(D())+" years old",1)])):d("",!0),o(s).popularity?(r(),l("div",vt,[e[14]||(e[14]=t("h3",{class:"text-sm font-medium text-gray-400"},"Popularity",-1)),t("p",yt,n(Math.round(o(s).popularity)),1)])):d("",!0)]),o(s).biography?(r(),l("div",_t,[e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-white mb-3"},"Biography",-1)),t("div",xt,[!w.value&&o(s).biography.length>600?(r(),l("p",bt,[B(n(o(s).biography.substring(0,600))+"... ",1),t("button",{onClick:e[1]||(e[1]=a=>w.value=!0),class:"text-yellow-400 hover:text-yellow-300 ml-2"}," Read more ")])):(r(),l("p",ft,n(o(s).biography),1))])])):d("",!0)])])])])]),t("div",wt,[e[19]||(e[19]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-8"},"Known For",-1)),t("div",kt,[t("nav",$t,[t("button",{onClick:e[2]||(e[2]=a=>c.value="all"),class:b(["py-2 px-1 border-b-2 font-medium text-sm",c.value==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," All ("+n(o(u)?.cast?.length+o(u)?.crew?.length||0)+") ",3),t("button",{onClick:e[3]||(e[3]=a=>c.value="acting"),class:b(["py-2 px-1 border-b-2 font-medium text-sm",c.value==="acting"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," Acting ("+n(o(u)?.cast?.length||0)+") ",3),o(u)?.crew?.length>0?(r(),l("button",{key:0,onClick:e[4]||(e[4]=a=>c.value="crew"),class:b(["py-2 px-1 border-b-2 font-medium text-sm",c.value==="crew"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," Crew ("+n(o(u)?.crew?.length||0)+") ",3)):d("",!0)])]),o($)?(r(),l("div",Ct,e[16]||(e[16]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600"},"Loading filmography...",-1)]))):y.value.length>0?(r(),l("div",Dt,[(r(!0),l(T,null,P(y.value.slice(0,v.value),a=>(r(),E(g,{key:`${a.id}-${a.credit_id}`,to:a.media_type==="tv"?`/tv/${a.id}`:`/movie/${a.id}`,class:"group cursor-pointer block"},{default:H(()=>[t("div",jt,[a.poster_path?(r(),l("img",{key:0,src:`https://image.tmdb.org/t/p/w500${a.poster_path}`,alt:a.title||a.name,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,Bt)):(r(),l("div",Mt,e[17]||(e[17]=[t("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 011 1v1a1 1 0 01-1 1H3a1 1 0 01-1-1V5a1 1 0 011-1h4z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8v12a2 2 0 002 2h10a2 2 0 002-2V8"})],-1)])))]),t("h3",At,n(a.title||a.name),1),t("p",Ft,n(V(a.release_date||a.first_air_date)),1),a.character||a.job?(r(),l("p",Lt,n(a.character||a.job),1)):d("",!0)]),_:2},1032,["to"]))),128))])):d("",!0),y.value.length>v.value?(r(),l("div",Vt,[t("button",{onClick:e[5]||(e[5]=a=>v.value+=12),class:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Show More ")])):o($)?d("",!0):(r(),l("div",zt,e[18]||(e[18]=[t("p",{class:"text-gray-500"},"No filmography available.",-1)])))])])):d("",!0)])}}};export{Et as default};
