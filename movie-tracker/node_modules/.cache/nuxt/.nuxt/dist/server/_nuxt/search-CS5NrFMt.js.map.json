{"file":"search-CS5NrFMt.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrIncludeBooleanAttr","_ssrInterpolate","_ssrRenderList","_push","_parent","_createVNode","_createBlock","_toDisplayString"],"sources":["../../../../../../../components/SearchInput.vue","../../../../../../../pages/search.vue"],"sourcesContent":["<template>\r\n  <div class=\"relative max-w-md mx-auto\">\r\n    <div class=\"relative\">\r\n      <input\r\n        v-model=\"searchQuery\"\r\n        @input=\"handleInput\"\r\n        @keyup.enter=\"handleSearch\"\r\n        type=\"text\"\r\n        placeholder=\"Search movies and TV shows...\"\r\n        class=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200\"\r\n      />\r\n      \r\n      <!-- Search Icon -->\r\n      <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n        <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n        </svg>\r\n      </div>\r\n      \r\n      <!-- Clear Button -->\r\n      <button\r\n        v-if=\"searchQuery\"\r\n        @click=\"clearSearch\"\r\n        class=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\r\n      >\r\n        <svg class=\"h-5 w-5 text-gray-400 hover:text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n        </svg>\r\n      </button>\r\n    </div>\r\n    \r\n    <!-- Search Button -->\r\n    <button\r\n      @click=\"handleSearch\"\r\n      :disabled=\"!searchQuery.trim()\"\r\n      class=\"mt-3 w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\"\r\n    >\r\n      Search\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\n\r\nconst emit = defineEmits(['search', 'clear'])\r\n\r\nconst searchQuery = ref('')\r\n\r\nconst handleInput = () => {\r\n  if (!searchQuery.value.trim()) {\r\n    emit('clear')\r\n  }\r\n}\r\n\r\nconst handleSearch = () => {\r\n  if (searchQuery.value.trim()) {\r\n    emit('search', searchQuery.value.trim())\r\n  }\r\n}\r\n\r\nconst clearSearch = () => {\r\n  searchQuery.value = ''\r\n  emit('clear')\r\n}\r\n\r\n// Expose search query for parent component access\r\ndefineExpose({\r\n  searchQuery,\r\n  clearSearch\r\n})\r\n</script>\r\n","<template>\r\n  <div class=\"container mx-auto px-4 py-8\">\r\n    <!-- Header -->\r\n    <div class=\"text-center mb-8\">\r\n      <h1 class=\"text-3xl md:text-4xl font-bold text-gray-800 mb-4\">\r\n        Search\r\n      </h1>\r\n      <p class=\"text-gray-600 max-w-2xl mx-auto\">\r\n        Find your favorite movies and TV shows. Search by title, actor, director, or genre.\r\n      </p>\r\n    </div>\r\n\r\n    <!-- Search Input -->\r\n    <div class=\"max-w-2xl mx-auto mb-8\">\r\n      <SearchInput \r\n        ref=\"searchInput\"\r\n        @search=\"handleSearch\" \r\n        @clear=\"clearResults\" \r\n      />\r\n    </div>\r\n\r\n    <!-- Search Filters -->\r\n    <div v-if=\"searchResults.length > 0\" class=\"flex justify-center mb-6\">\r\n      <div class=\"bg-gray-100 rounded-lg p-1\">\r\n        <button\r\n          @click=\"activeFilter = 'all'\"\r\n          :class=\"[\r\n            'px-4 py-2 rounded-md text-sm font-medium transition-colors',\r\n            activeFilter === 'all' \r\n              ? 'bg-white text-blue-600 shadow' \r\n              : 'text-gray-600 hover:text-gray-800'\r\n          ]\"\r\n        >\r\n          All ({{ searchResults.length }})\r\n        </button>\r\n        <button\r\n          @click=\"activeFilter = 'movie'\"\r\n          :class=\"[\r\n            'px-4 py-2 rounded-md text-sm font-medium transition-colors',\r\n            activeFilter === 'movie' \r\n              ? 'bg-white text-blue-600 shadow' \r\n              : 'text-gray-600 hover:text-gray-800'\r\n          ]\"\r\n        >\r\n          Movies ({{ movieResults.length }})\r\n        </button>\r\n        <button\r\n          @click=\"activeFilter = 'tv'\"\r\n          :class=\"[\r\n            'px-4 py-2 rounded-md text-sm font-medium transition-colors',\r\n            activeFilter === 'tv' \r\n              ? 'bg-white text-blue-600 shadow' \r\n              : 'text-gray-600 hover:text-gray-800'\r\n          ]\"\r\n        >\r\n          TV Shows ({{ tvResults.length }})\r\n        </button>\r\n        <button\r\n          @click=\"activeFilter = 'person'\"\r\n          :class=\"[\r\n            'px-4 py-2 rounded-md text-sm font-medium transition-colors',\r\n            activeFilter === 'person' \r\n              ? 'bg-white text-blue-600 shadow' \r\n              : 'text-gray-600 hover:text-gray-800'\r\n          ]\"\r\n        >\r\n          People ({{ personResults.length }})\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Loading State -->\r\n    <div v-if=\"loading\" class=\"text-center py-12\">\r\n      <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n      <p class=\"mt-4 text-gray-600\">Searching...</p>\r\n    </div>\r\n\r\n    <!-- Error State -->\r\n    <div v-else-if=\"error\" class=\"text-center py-12\">\r\n      <svg class=\"mx-auto h-12 w-12 text-red-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n      </svg>\r\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Search Error</h3>\r\n      <p class=\"text-gray-500 mb-4\">{{ error }}</p>\r\n      <button\r\n        @click=\"handleSearch(lastQuery)\"\r\n        class=\"btn-primary\"\r\n      >\r\n        Try Again\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Empty State -->\r\n    <div v-else-if=\"!hasSearched\" class=\"text-center py-12\">\r\n      <svg class=\"mx-auto h-12 w-12 text-gray-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n      </svg>\r\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Start Your Search</h3>\r\n      <p class=\"text-gray-500\">Enter a movie or TV show title to begin exploring.</p>\r\n    </div>\r\n\r\n    <!-- No Results -->\r\n    <div v-else-if=\"searchResults.length === 0\" class=\"text-center py-12\">\r\n      <svg class=\"mx-auto h-12 w-12 text-gray-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.239 0-4.236-.911-5.676-2.384C6.306 12.5 6.286 12.381 6.272 12.264A8 8 0 1112 4a7.963 7.963 0 014.834 1.646\" />\r\n      </svg>\r\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">No Results Found</h3>\r\n      <p class=\"text-gray-500 mb-4\">Sorry, we couldn't find any results for \"{{ lastQuery }}\"</p>\r\n      <p class=\"text-sm text-gray-400\">Try searching with different keywords or check your spelling.</p>\r\n    </div>\r\n\r\n    <!-- Search Results -->\r\n    <div v-else class=\"space-y-8\">\r\n      <!-- Results Info -->\r\n      <div class=\"text-center\">\r\n        <p class=\"text-gray-600\">\r\n          Found {{ filteredResults.length }} result{{ filteredResults.length !== 1 ? 's' : '' }} \r\n          <span v-if=\"lastQuery\">for \"{{ lastQuery }}\"</span>\r\n        </p>\r\n      </div>\r\n\r\n      <!-- Results Grid -->\r\n      <div class=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\r\n        <!-- Movie/TV Results -->\r\n        <template v-if=\"activeFilter !== 'person'\">\r\n          <PosterCard\r\n            v-for=\"item in paginatedResults\"\r\n            :key=\"`${item.media_type || 'movie'}-${item.id}`\"\r\n            :item=\"item\"\r\n            :type=\"item.media_type || 'movie'\"\r\n          />\r\n        </template>\r\n        \r\n        <!-- People Results -->\r\n        <template v-else>\r\n          <NuxtLink\r\n            v-for=\"person in paginatedResults\"\r\n            :key=\"`person-${person.id}`\"\r\n            :to=\"`/person/${person.id}`\"\r\n            class=\"group cursor-pointer block\"\r\n          >\r\n            <div class=\"aspect-[3/4] bg-gray-200 rounded-lg overflow-hidden mb-3 group-hover:shadow-lg transition-all duration-300\">\r\n              <img\r\n                v-if=\"person.profile_path\"\r\n                :src=\"`https://image.tmdb.org/t/p/w500${person.profile_path}`\"\r\n                :alt=\"person.name\"\r\n                class=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\r\n              />\r\n              <div v-else class=\"w-full h-full bg-gray-300 flex items-center justify-center\">\r\n                <svg class=\"w-16 h-16 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fill-rule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clip-rule=\"evenodd\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <h3 class=\"font-semibold text-gray-900 text-sm group-hover:text-blue-600 transition-colors\">\r\n              {{ person.name }}\r\n            </h3>\r\n            <p v-if=\"person.known_for_department\" class=\"text-gray-600 text-xs\">\r\n              {{ person.known_for_department }}\r\n            </p>\r\n            <div v-if=\"person.known_for && person.known_for.length > 0\" class=\"mt-1\">\r\n              <p class=\"text-xs text-gray-500\">\r\n                Known for: {{ person.known_for.slice(0, 2).map(item => item.title || item.name).join(', ') }}\r\n              </p>\r\n            </div>\r\n          </NuxtLink>\r\n        </template>\r\n      </div>\r\n\r\n      <!-- Load More Button -->\r\n      <div v-if=\"hasMore\" class=\"text-center\">\r\n        <button\r\n          @click=\"loadMore\"\r\n          :disabled=\"loadingMore\"\r\n          class=\"btn-secondary\"\r\n        >\r\n          <span v-if=\"loadingMore\">Loading...</span>\r\n          <span v-else>Load More</span>\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Pagination Info -->\r\n      <div class=\"text-center text-sm text-gray-500\">\r\n        Showing {{ paginatedResults.length }} of {{ totalResults }} results\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\n\r\n// SEO\r\nuseSeoMeta({\r\n  title: 'Search - Movie Tracker',\r\n  ogTitle: 'Search - Movie Tracker',\r\n  description: 'Search for your favorite movies and TV shows. Find detailed information, ratings, and more.',\r\n  ogDescription: 'Search for your favorite movies and TV shows. Find detailed information, ratings, and more.'\r\n})\r\n\r\nconst config = useRuntimeConfig()\r\nconst route = useRoute()\r\nconst router = useRouter()\r\n\r\n// Reactive data\r\nconst searchResults = ref([])\r\nconst loading = ref(false)\r\nconst loadingMore = ref(false)\r\nconst error = ref(null)\r\nconst hasSearched = ref(false)\r\nconst lastQuery = ref('')\r\nconst activeFilter = ref('all')\r\nconst currentPage = ref(1)\r\nconst totalPages = ref(1)\r\nconst totalResults = ref(0)\r\nconst searchInput = ref(null)\r\n\r\n// Computed properties\r\nconst movieResults = computed(() => \r\n  searchResults.value.filter(item => item.media_type === 'movie')\r\n)\r\n\r\nconst tvResults = computed(() => \r\n  searchResults.value.filter(item => item.media_type === 'tv')\r\n)\r\n\r\nconst personResults = computed(() => \r\n  searchResults.value.filter(item => item.media_type === 'person')\r\n)\r\n\r\nconst filteredResults = computed(() => {\r\n  switch (activeFilter.value) {\r\n    case 'movie':\r\n      return movieResults.value\r\n    case 'tv':\r\n      return tvResults.value\r\n    case 'person':\r\n      return personResults.value\r\n    default:\r\n      return searchResults.value\r\n  }\r\n})\r\n\r\nconst paginatedResults = computed(() => {\r\n  return filteredResults.value\r\n})\r\n\r\nconst hasMore = computed(() => currentPage.value < totalPages.value)\r\n\r\n// Methods\r\nconst handleSearch = async (query, page = 1, append = false) => {\r\n  if (!query?.trim()) return\r\n\r\n  if (page === 1) {\r\n    loading.value = true\r\n    hasSearched.value = true\r\n    lastQuery.value = query\r\n    \r\n    // Update URL\r\n    await router.push({ \r\n      path: '/search', \r\n      query: { q: query } \r\n    })\r\n  } else {\r\n    loadingMore.value = true\r\n  }\r\n\r\n  error.value = null\r\n\r\n  try {\r\n    const response = await $fetch(`${config.public.tmdbBaseUrl}/search/multi`, {\r\n      params: {\r\n        api_key: config.public.tmdbApiKey,\r\n        language: 'en-US',\r\n        query: query,\r\n        page: page\r\n      }\r\n    })\r\n\r\n    const results = response.results?.filter(item => \r\n      item.media_type === 'movie' || item.media_type === 'tv' || item.media_type === 'person'\r\n    ) || []\r\n\r\n    if (append) {\r\n      searchResults.value = [...searchResults.value, ...results]\r\n    } else {\r\n      searchResults.value = results\r\n    }\r\n\r\n    currentPage.value = response.page || 1\r\n    totalPages.value = response.total_pages || 1\r\n    totalResults.value = response.total_results || 0\r\n\r\n  } catch (err) {\r\n    error.value = 'Failed to search. Please try again.'\r\n    console.error('Error searching:', err)\r\n  } finally {\r\n    loading.value = false\r\n    loadingMore.value = false\r\n  }\r\n}\r\n\r\nconst clearResults = () => {\r\n  searchResults.value = []\r\n  hasSearched.value = false\r\n  lastQuery.value = ''\r\n  activeFilter.value = 'all'\r\n  currentPage.value = 1\r\n  \r\n  // Clear URL query\r\n  router.push({ path: '/search' })\r\n}\r\n\r\nconst loadMore = () => {\r\n  if (!loadingMore.value && hasMore.value) {\r\n    handleSearch(lastQuery.value, currentPage.value + 1, true)\r\n  }\r\n}\r\n\r\n// Lifecycle\r\nonMounted(() => {\r\n  // Check for query parameter in URL\r\n  const query = route.query.q\r\n  if (query && typeof query === 'string') {\r\n    if (searchInput.value) {\r\n      searchInput.value.searchQuery = query\r\n    }\r\n    handleSearch(query)\r\n  }\r\n})\r\n</script>\r\n"],"version":3}