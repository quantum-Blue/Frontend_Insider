import{_ as N}from"./8q7ltWUn.js";import{_ as P,a as $}from"./CSULd7xk.js";import{_ as D}from"./C7qF5aok.js";import{p as R,x as E,g as U,y as z,r as c,m as _,z as O,f as Q,c as o,a as t,b as x,w as C,F as S,h as A,t as f,q as H,e as K,o as s,d as M,j as G}from"./CdjRxmqw.js";import"./DlAUqK2U.js";const I={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},J={class:"mb-6"},W={class:"flex items-center space-x-2 text-sm text-gray-500"},X={class:"flex gap-8"},Y={class:"flex-1"},Z={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6"},tt={key:1,class:"text-center py-12"},et={class:"text-gray-500 mb-4"},st={key:2,class:"space-y-8"},ot={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6"},lt={key:0,class:"text-center"},at=["disabled"],rt={key:0},nt={key:1},it={class:"text-center text-sm text-gray-500"},dt={key:3,class:"text-center py-12"},l="tv-airing-today",yt={__name:"now-playing-new",setup(ut){R({title:"TV Shows Airing Today - Movie Tracker",ogTitle:"TV Shows Airing Today - Movie Tracker",description:"Discover TV shows airing today. Find out what's broadcasting right now.",ogDescription:"Discover TV shows airing today. Find out what's broadcasting right now."});const a=E(),w=K(),h=U(),k=z(),r=c([]),i=c(!1),m=c(null),v=c(1),T=c(1),F=c(0);_(()=>a.getFilters(l));const L=_(()=>a.hasActiveFilters(l)),V=_(()=>v.value<T.value),d=async(p=1,e=!1)=>{i.value=!0,m.value=null;try{const u=a.buildApiParams(l,w.public.tmdbApiKey),b=L.value?"/discover/tv":"/tv/airing_today",n=await $fetch(`${w.public.tmdbBaseUrl}${b}`,{params:{...u,page:p}});e?r.value=[...r.value,...n.results]:r.value=n.results,v.value=n.page,T.value=n.total_pages,F.value=n.total_results;const y=a.buildUrlQuery(l);Object.keys(y).length>0?await k.replace({query:y}):await k.replace({query:{}})}catch(u){console.error("Error fetching TV shows:",u),m.value="Failed to load TV shows. Please try again."}finally{i.value=!1}},B=()=>{V.value&&!i.value&&d(v.value+1,!0)},j=()=>{v.value=1,d()},q=()=>{a.resetCategory(l),d()};return O(()=>a.getFilters(l),p=>{p&&d()},{deep:!0}),Q(()=>{h.query&&Object.keys(h.query).length>0&&a.setFromUrlQuery(l,h.query),d()}),(p,e)=>{const u=N,b=P,n=$,y=D;return s(),o("div",I,[t("nav",J,[t("ol",W,[t("li",null,[x(u,{to:"/",class:"hover:text-blue-600"},{default:C(()=>e[1]||(e[1]=[M("Home",-1)])),_:1,__:[1]})]),e[3]||(e[3]=t("li",null,"/",-1)),t("li",null,[x(u,{to:"/tv",class:"hover:text-blue-600"},{default:C(()=>e[2]||(e[2]=[M("TV Shows",-1)])),_:1,__:[2]})]),e[4]||(e[4]=t("li",null,"/",-1)),e[5]||(e[5]=t("li",{class:"text-gray-900 font-medium"},"Airing Today",-1))])]),e[12]||(e[12]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"TV Shows Airing Today"),t("p",{class:"text-gray-600 mt-2"}," TV shows that are broadcasting today ")],-1)),t("div",X,[x(b,{category:l}),t("div",Y,[x(n,{category:l,class:"mb-6",onFiltersChanged:j}),i.value&&r.value.length===0?(s(),o("div",Z,[(s(),o(S,null,A(20,g=>t("div",{key:g,class:"animate-pulse"},e[6]||(e[6]=[t("div",{class:"aspect-[2/3] bg-gray-300 rounded-lg mb-4"},null,-1),t("div",{class:"h-4 bg-gray-300 rounded mb-2"},null,-1),t("div",{class:"h-3 bg-gray-300 rounded w-2/3"},null,-1)]))),64))])):m.value?(s(),o("div",tt,[e[7]||(e[7]=t("svg",{class:"mx-auto h-12 w-12 text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),e[8]||(e[8]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Error Loading TV Shows",-1)),t("p",et,f(m.value),1),t("button",{onClick:e[0]||(e[0]=g=>d()),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Try Again ")])):r.value.length>0?(s(),o("div",st,[t("div",ot,[(s(!0),o(S,null,A(r.value,g=>(s(),G(y,{key:g.id,item:g,type:"tv"},null,8,["item"]))),128))]),V.value?(s(),o("div",lt,[t("button",{onClick:B,disabled:i.value,class:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[i.value?(s(),o("span",rt,"Loading...")):(s(),o("span",nt,"Load More"))],8,at)])):H("",!0),t("div",it," Showing "+f(r.value.length)+" of "+f(F.value.toLocaleString())+" results ",1)])):(s(),o("div",dt,[e[9]||(e[9]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.239 0-4.236-.911-5.676-2.384C6.306 12.5 6.286 12.381 6.272 12.264A8 8 0 1112 4a7.963 7.963 0 014.834 1.646"})],-1)),e[10]||(e[10]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No TV Shows Found",-1)),e[11]||(e[11]=t("p",{class:"text-gray-500 mb-4"},"Try adjusting your filters to see more results.",-1)),t("button",{onClick:q,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Clear Filters ")]))])])])}}};export{yt as default};
