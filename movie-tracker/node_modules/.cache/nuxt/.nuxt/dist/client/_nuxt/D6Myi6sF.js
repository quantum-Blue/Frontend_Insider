import{_ as j}from"./8q7ltWUn.js";import{p as z,g as D,y as T,r as i,m as $,f as N,c as s,a as e,b as M,w as q,t as a,q as v,B as V,C as R,D as F,F as B,h as S,e as K,o as l,d as U}from"./CdjRxmqw.js";import{_ as E}from"./DlAUqK2U.js";const A={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},H={class:"mb-6"},I={class:"flex items-center space-x-2 text-sm text-gray-500"},Q={class:"mb-8"},G={class:"text-3xl font-bold text-gray-900 mb-4"},J={class:"text-gray-600 mb-6"},O={class:"max-w-2xl"},W={class:"relative"},X={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6"},Y={key:1,class:"text-center py-12"},Z={class:"text-gray-500 mb-4"},ee={key:2,class:"space-y-8"},te={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6"},oe={class:"relative aspect-square overflow-hidden rounded-full mb-3 bg-gray-200"},se=["src","alt"],le={key:1,class:"w-full h-full bg-gray-300 flex items-center justify-center"},re={class:"text-center"},ae={class:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors mb-1 line-clamp-2"},ne={key:0,class:"text-sm text-gray-500 mb-2"},ie={key:1,class:"text-xs text-gray-400"},ue={class:"line-clamp-1"},de={key:0,class:"text-center"},ce=["disabled"],pe={key:0},ve={key:1},ge={class:"text-center text-sm text-gray-500"},me={key:3,class:"text-center py-12"},he={class:"text-gray-500 mb-4"},xe={__name:"people",setup(ye){z({title:"Popular People - Movie Tracker",ogTitle:"Popular People - Movie Tracker",description:"Discover talented actors, directors, and creators in the entertainment industry.",ogDescription:"Discover talented actors, directors, and creators in the entertainment industry."});const b=K(),x=D(),f=T(),u=i([]),c=i(!1),h=i(null),g=i(1),_=i(1),k=i(0),d=i(""),r=i(""),w=$(()=>g.value<_.value),m=async(C=1,t=!1)=>{c.value=!0,h.value=null;try{const p=r.value?"/search/person":"/person/popular",o={api_key:b.public.tmdbApiKey,language:"en-US",page:C};r.value&&(o.query=r.value);const n=await $fetch(`${b.public.tmdbBaseUrl}${p}`,{params:o});t?u.value=[...u.value,...n.results]:u.value=n.results,g.value=n.page,_.value=n.total_pages,k.value=n.total_results,r.value?await f.replace({query:{q:r.value}}):await f.replace({query:{}})}catch(p){console.error("Error fetching people:",p),h.value="Failed to load people. Please try again."}finally{c.value=!1}},P=()=>{d.value.trim()&&(r.value=d.value.trim(),g.value=1,m())},y=()=>{d.value="",r.value="",g.value=1,m()},L=()=>{w.value&&!c.value&&m(g.value+1,!0)};return N(()=>{x.query.q&&(r.value=x.query.q,d.value=x.query.q),m()}),(C,t)=>{const p=j;return l(),s("div",A,[e("nav",H,[e("ol",I,[e("li",null,[M(p,{to:"/",class:"hover:text-blue-600"},{default:q(()=>t[2]||(t[2]=[U("Home",-1)])),_:1,__:[2]})]),t[3]||(t[3]=e("li",null,"/",-1)),t[4]||(t[4]=e("li",{class:"text-gray-900 font-medium"},"People",-1))])]),e("div",Q,[e("h1",G,a(r.value?"Search Results":"Popular People"),1),e("p",J,a(r.value?`Search results for "${r.value}"`:"Discover talented actors, directors, and creators in the entertainment industry"),1),e("div",O,[e("div",W,[V(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>d.value=o),onKeyup:F(P,["enter"]),type:"text",placeholder:"Search for actors, directors, writers...",class:"w-full px-4 py-3 pl-12 pr-20 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,544),[[R,d.value]]),t[6]||(t[6]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),d.value?(l(),s("button",{key:0,onClick:y,class:"absolute inset-y-0 right-16 flex items-center"},t[5]||(t[5]=[e("svg",{class:"h-4 w-4 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):v("",!0),e("button",{onClick:P,class:"absolute right-2 top-2 bottom-2 bg-blue-600 hover:bg-blue-700 text-white px-4 rounded-md transition-colors"}," Search ")]),r.value?(l(),s("button",{key:0,onClick:y,class:"mt-3 text-sm text-blue-600 hover:text-blue-800"}," â† Back to Popular People ")):v("",!0)])]),c.value&&u.value.length===0?(l(),s("div",X,[(l(),s(B,null,S(20,o=>e("div",{key:o,class:"animate-pulse"},t[7]||(t[7]=[e("div",{class:"aspect-square bg-gray-300 rounded-full mb-4"},null,-1),e("div",{class:"h-4 bg-gray-300 rounded mb-2"},null,-1),e("div",{class:"h-3 bg-gray-300 rounded w-2/3"},null,-1)]))),64))])):h.value?(l(),s("div",Y,[t[8]||(t[8]=e("svg",{class:"mx-auto h-12 w-12 text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),t[9]||(t[9]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Error Loading People",-1)),e("p",Z,a(h.value),1),e("button",{onClick:t[1]||(t[1]=o=>m()),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Try Again ")])):u.value.length>0?(l(),s("div",ee,[e("div",te,[(l(!0),s(B,null,S(u.value,o=>(l(),s("div",{key:o.id,class:"group cursor-pointer"},[M(p,{to:`/person/${o.id}`,class:"block"},{default:q(()=>[e("div",oe,[o.profile_path?(l(),s("img",{key:0,src:`https://image.tmdb.org/t/p/w500${o.profile_path}`,alt:o.name,class:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"},null,8,se)):(l(),s("div",le,t[10]||(t[10]=[e("svg",{class:"w-12 h-12 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})],-1)])))]),e("div",re,[e("h3",ae,a(o.name),1),o.known_for_department?(l(),s("p",ne,a(o.known_for_department),1)):v("",!0),o.known_for&&o.known_for.length>0?(l(),s("div",ie,[e("span",ue," Known for: "+a(o.known_for.map(n=>n.title||n.name).slice(0,2).join(", ")),1)])):v("",!0)])]),_:2},1032,["to"])]))),128))]),w.value?(l(),s("div",de,[e("button",{onClick:L,disabled:c.value,class:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[c.value?(l(),s("span",pe,"Loading...")):(l(),s("span",ve,"Load More"))],8,ce)])):v("",!0),e("div",ge," Showing "+a(u.value.length)+" of "+a(k.value.toLocaleString())+" people ",1)])):(l(),s("div",me,[t[11]||(t[11]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),t[12]||(t[12]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No People Found",-1)),e("p",he,a(r.value?"Try searching with different keywords.":"Unable to load popular people."),1),r.value?(l(),s("button",{key:0,onClick:y,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," View Popular People ")):v("",!0)]))])}}},ke=E(xe,[["__scopeId","data-v-5ed1d1d1"]]);export{ke as default};
